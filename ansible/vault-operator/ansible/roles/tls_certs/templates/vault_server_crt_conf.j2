[ req ]
prompt = no
distinguished_name = dn
req_extensions = v3_req

[ dn ]
CN="{{ cert_common_name }}"
O="{{ cert_org }}"

[ v3_req ]
keyUsage = critical, digitalSignature, keyEncipherment
extendedKeyUsage = serverAuth, clientAuth
subjectAltName = @alt_names

[ alt_names ]
DNS.1 = localhost
DNS.2 = *."{{ namespace }}".pod
DNS.3 = "{{ vault_cluster_name }}"."{{ namespace }}".svc
